# 彻底清除浏览器缓存指南

## 问题症状

看到旧代码的错误日志：
```
[AuthContext] Profile 加载失败 (尝试 2): Error: Profile 加载超时 (>8000ms)
```

这表示浏览器使用了缓存的旧 JavaScript 代码。

---

## Chrome / Edge 浏览器

### 方法 1：硬刷新
```
Windows: Ctrl + Shift + R
Mac: Cmd + Shift + R
Linux: Ctrl + Shift + R
```

### 方法 2：清空缓存并硬性重新加载
```
1. F12 打开开发者工具
2. 右键点击浏览器刷新按钮（地址栏左侧）
3. 选择 "清空缓存并硬性重新加载"
```

### 方法 3：手动清除缓存
```
1. 设置 → 隐私和安全 → 清除浏览数据
2. 时间范围：选择 "全部时间"
3. 勾选：缓存的图片和文件
4. 点击 "清除数据"
```

### 方法 4：使用隐私模式（最保险）
```
Ctrl/Cmd + Shift + N
访问网站测试
```

---

## Firefox 浏览器

### 方法 1：硬刷新
```
Windows: Ctrl + Shift + R
Mac: Cmd + Shift + R
```

### 方法 2：清除缓存
```
1. 菜单 → 设置 → 隐私与安全
2. Cookie 和网站数据 → 清除数据
3. 勾选 "缓存的 Web 内容"
4. 点击 "清除"
```

---

## Safari 浏览器

### 方法 1：硬刷新
```
Cmd + Option + R
```

### 方法 2：清除缓存
```
1. Safari → 设置 → 高级
2. 勾选 "在菜单栏中显示开发菜单"
3. 开发 → 清空缓存
```

---

## 验证缓存已清除

清除缓存后，访问网站，打开控制台（F12），应该看到：

**✅ 新代码（没有"重试"字样）：**
```
[AuthContext] 新用户，等待 profile 创建
```

**❌ 旧代码（有"重试"字样）：**
```
[AuthContext] Profile 加载失败 (尝试 2)  ← 缓存未清除
```

---

## 如果清除缓存后仍然有问题

1. 关闭浏览器，重新打开
2. 重启电脑
3. 使用不同的浏览器测试
4. 检查 Vercel 部署状态

---

## 开发者提示

### 在开发时禁用缓存

开发者工具（F12）→ Network 标签 → 勾选 "Disable cache"

这样在开发者工具打开时，浏览器不会使用缓存。
